pico-8 cartridge // http://www.pico-8.com
version 32
__lua__
function _init()
 cls()
 particles = {}
 wait = 10
 counter = 0
end

function _update60()
	make_particles()
	update_particles()
end

function _draw()
	cls()
	draw_particles()
end

function parts(col)
	p = {}
	p.x=60+rnd(30)
	p.y=30+rnd(30)
	p.dx = 0
	p.dy = 0
	p.age = 0
	p.max = 100
	p.size = 1
	p.c = col
	p.colarray = {12,6,4,9}
	add(particles,p)
end

function make_particles()
	counter +=1
	if counter % 2 == 0 then
		cols = 12
	else
		cols = 7
	end
	parts(cols)
end

function draw_particles()
	for i=#particles,1,-1 do
		circfill(particles[i].x,particles[i].y,particles[i].size,particles[i].c)
	end
end

function update_particles()

	for i=#particles,1,-1 do
		pts = particles[i]
		pts.age +=1
		if pts.age > pts.max then
			pts.size-=1.5
		else

			pts.size +=0.5
			
			pts.dy = sin(1.5)*20
			
			pts.x += pts.dx
			pts.y += pts.dy
		end
	end

end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
