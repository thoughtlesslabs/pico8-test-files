pico-8 cartridge // http://www.pico-8.com
version 32
__lua__
function _init()
 cls()
 particles = {}
 wait = 30
 counter = 0
end

function _update60()
	wait -= 1
	if wait <= 0 then
		make_particles()
		wait = 20
	end
	update_particles()
end

function _draw()
	cls()
	draw_particles()
end

function parts(col)
	p = {}
	p.x=60
	p.y=30
	p.dx = 0
	p.dy = 0
	p.age = 0
	p.max = 100
	p.size = 3
	p.c = col
	add(particles,p)
end

function make_particles()
	counter +=1
	if counter % 2 == 0 then
		cols = 12
	else
		cols = 7
	end
	parts(cols)
end

function draw_particles()
	for i=#particles,1,-1 do
		circfill(particles[i].x,particles[i].y,particles[i].size,particles[i].c)
	end
end

function update_particles()

	for i=#particles,1,-1 do
		pts = particles[i]
		pts.age +=1
		if pts.age > pts.max then
			del(particles,pts)
		else
		
		pts.size +=0.5
		
		pts.dy = cos(1)
		
		pts.x -= pts.dx
		pts.y += pts.dy
		end
	end

end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
